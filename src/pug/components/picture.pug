//- includes/mixins/picture.pug
mixin picture(props)
  -
    var block = 'picture'
    var mod = props.mod ? ` ${block}--${props.mod}` : ''
    var parent = props.parent ? ` ${props.parent}__picture` : ''
    var className = block + mod + parent

    var webp = props.webp
    var webp2x = props.webp2x
    var jpg = props.jpg
    var jpg2x = props.jpg2x
    var alt = props.alt || ''
    var width = props.width || ''
    var height = props.height || ''

  picture(class=className)
    if webp
      source(
        type="image/webp"
        srcset=`${webp} 1x, ${webp2x} 2x`
      )
    img(
      src=jpg
      srcset=jpg2x ? `${jpg2x} 2x` : null
      alt=alt
      width=width
      height=height
      loading="lazy"
    )
